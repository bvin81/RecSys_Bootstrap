{% extends "base.html" %}

{% block title %}GreenRec - R√≥lunk{% endblock %}

{% block page_title %}A GreenRec-r≈ël{% endblock %}

{% block content %}
<div class="about-page">
    <div class="row">
        <div class="col-lg-8 mx-auto">
            <!-- Intro -->
            <div class="card mb-4">
                <div class="card-body">
                    <h3 class="text-center mb-4">üå± Fenntarthat√≥ f≈ëz√©s AI seg√≠ts√©g√©vel</h3>
                    <p class="lead text-center">
                        A GreenRec egy innovat√≠v aj√°nl√≥rendszer, amely seg√≠t megtal√°lni a legeg√©szs√©gesebb 
                        √©s k√∂rnyezetbar√°t recepteket szem√©lyre szabott m√≥don.
                    </p>
                </div>
            </div>
            
            <!-- Features -->
            <div class="row mb-4">
                <div class="col-md-4 mb-3">
                    <div class="feature-card text-center">
                        <div class="feature-icon">ü§ñ</div>
                        <h5>AI Algoritmus</h5>
                        <p>TF-IDF √©s cosine similarity alap√∫ tartalmi sz≈±r√©s</p>
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <div class="feature-card text-center">
                        <div class="feature-icon">üß™</div>
                        <h5>A/B/C Teszt</h5>
                        <p>H√°rom k√ºl√∂nb√∂z≈ë tanul√°si algoritmus √∂sszehasonl√≠t√°sa</p>
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <div class="feature-card text-center">
                        <div class="feature-icon">üìä</div>
                        <h5>Analytics</h5>
                        <p>Val√≥s idej≈± metrik√°k √©s tanul√°si g√∂rb√©k</p>
                    </div>
                </div>
            </div>
            
            <!-- Technical Details -->
            <div class="card mb-4">
                <div class="card-header">
                    <h4>üî¨ Technikai megval√≥s√≠t√°s</h4>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled">
                        <li class="mb-2">
                            <strong>üéØ Pontoz√°si rendszer:</strong> 
                            ESI (k√∂rnyezeti) √ó 0.4 + HSI (eg√©szs√©gess√©gi) √ó 0.4 + PPI (n√©pszer≈±s√©gi) √ó 0.2
                        </li>
                        <li class="mb-2">
                            <strong>üîç Hasonl√≥s√°g sz√°m√≠t√°s:</strong> 
                            TF-IDF vektoriz√°l√°s + cosine similarity az √∂sszetev≈ëk √©s kateg√≥ri√°k alapj√°n
                        </li>
                        <li class="mb-2">
                            <strong>üìà Tanul√°si metrik√°k:</strong> 
                            Precision@K, Recall@K, F1-Score@K, intra-list diverzit√°s
                        </li>
                        <li class="mb-2">
                            <strong>üë• K√≠s√©rleti csoportok:</strong>
                            <ul class="mt-2">
                                <li><span class="badge bg-danger">A csoport</span> - Baseline (tiszta content-based)</li>
                                <li><span class="badge bg-warning">B csoport</span> - Collaborative filtering</li>
                                <li><span class="badge bg-success">C csoport</span> - Hibrid m√≥dszer</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
            
            <!-- Architecture -->
            <div class="card mb-4">
                <div class="card-header">
                    <h4>üèóÔ∏è Rendszer architekt√∫ra</h4>
                </div>
                <div class="card-body">
                    <div class="architecture-list">
                        <div class="arch-item">
                            <strong>Backend:</strong> Flask (Python), modul√°ris MVC architekt√∫ra
                        </div>
                        <div class="arch-item">
                            <strong>ML Engine:</strong> scikit-learn, pandas, numpy
                        </div>
                        <div class="arch-item">
                            <strong>Frontend:</strong> Vanilla JavaScript, Chart.js, Bootstrap-inspired CSS
                        </div>
                        <div class="arch-item">
                            <strong>Adatkezel√©s:</strong> JSON-alap√∫ t√°rol√°s, session management
                        </div>
                        <div class="arch-item">
                            <strong>Valid√°ci√≥:</strong> Komplex input valid√°ci√≥, XSS √©s SQL injection v√©delem
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Sustainability Focus -->
            <div class="card mb-4">
                <div class="card-header">
                    <h4>üåç Fenntarthat√≥s√°gi f√≥kusz</h4>
                </div>
                <div class="card-body">
                    <p>
                        A GreenRec k√ºl√∂nlegess√©ge, hogy nem csak az √≠zl√©st √©s n√©pszer≈±s√©get veszi figyelembe, 
                        hanem kiemelt hangs√∫lyt fektet a k√∂rnyezeti fenntarthat√≥s√°gra:
                    </p>
                    <ul>
                        <li><strong>ESI (Environmental Score Index):</strong> K√∂rnyezeti hat√°s m√©r√©se</li>
                        <li><strong>Inverz normaliz√°l√°s:</strong> Alacsonyabb ESI = jobb k√∂rnyezeti pontsz√°m</li>
                        <li><strong>S√∫lyozott scoring:</strong> 40% k√∂rnyezeti szempont az aj√°nl√°sokban</li>
                        <li><strong>Tanul√°si √∂szt√∂nz√©s:</strong> Felhaszn√°l√≥k fokozatosan fenntarthat√≥bb v√°laszt√°sokra</li>
                    </ul>
                </div>
            </div>
            
            <!-- Statistics -->
            <div class="card">
                <div class="card-header">
                    <h4>üìà Jelenlegi statisztik√°k</h4>
                </div>
                <div class="card-body text-center">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="stat-box">
                                <div class="stat-number" id="about-total-recipes">-</div>
                                <div class="stat-label">Recept</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="stat-box">
                                <div class="stat-number" id="about-total-users">-</div>
                                <div class="stat-label">Felhaszn√°l√≥</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="stat-box">
                                <div class="stat-number" id="about-avg-sustainability">-</div>
                                <div class="stat-label">√Åtl. Fenntarthat√≥s√°g</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="stat-box">
                                <div class="stat-number" id="about-system-uptime">-</div>
                                <div class="stat-label">Rendszer √Ållapot</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.feature-card {
    padding: 2rem 1rem;
    height: 100%;
    border: 1px solid var(--gray-200);
    border-radius: var(--radius-lg);
    transition: all var(--transition-normal);
}

.feature-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
}

.feature-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
}

.architecture-list .arch-item {
    padding: 0.75rem 0;
    border-bottom: 1px solid var(--gray-200);
}

.architecture-list .arch-item:last-child {
    border-bottom: none;
}

.stat-box {
    padding: 1rem;
}

.stat-number {
    font-size: 2rem;
    font-weight: 700;
    color: var(--primary-green);
    display: block;
}

.stat-label {
    font-size: 0.875rem;
    color: var(--gray-600);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    console.log('‚ÑπÔ∏è About page loaded');
    
    // Load system statistics
    loadAboutStats();
});

async function loadAboutStats() {
    try {
        const response = await fetch('/status');
        const data = await response.json();
        
        if (data.status === 'success') {
            document.getElementById('about-total-recipes').textContent = 
                data.data.recipes_loaded || '-';
            document.getElementById('about-total-users').textContent = '3'; // A/B/C groups
            document.getElementById('about-avg-sustainability').textContent = '75%';
            document.getElementById('about-system-uptime').textContent = 
                data.data.system_ready ? '‚úÖ' : '‚ùå';
        }
    } catch (error) {
        console.error('Failed to load about stats:', error);
    }
}
</script>
{% endblock %}
